<!DOCTYPE html>

<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Die verborgenen Kammern - Lesen & Vorlesen - Versuchsreihe - Helmut Wegners Wortwelten</title>
<style>
* {
margin: 0;
padding: 0;
box-sizing: border-box;
}

html {
scroll-behavior: smooth;
}

body {
font-family: 'Georgia', serif;
line-height: 1.8;
color: #2c1810;
background: linear-gradient(135deg, #E8E5FF 0%, #D8C7FF 50%, #E8E5FF 100%);
min-height: 100vh;
padding: 20px;
}

.container {
max-width: 900px;
margin: 0 auto;
background: #FFF8F0;
border-radius: 15px;
box-shadow: 0 10px 30px rgba(0,0,0,0.3);
overflow: hidden;
}

.header {
background: linear-gradient(135deg, #8B7CF6, #A855F7);
color: #FFF8F0;
padding: 30px;
text-align: center;
position: relative;
}

.back-button-header {
position: absolute;
top: 15px;
left: 15px;
}

.back-button {
background: rgba(255, 255, 255, 0.2);
color: white;
padding: 8px 16px;
border: 2px solid rgba(255, 255, 255, 0.3);
border-radius: 20px;
font-size: 0.9em;
cursor: pointer;
text-decoration: none;
display: inline-block;
transition: all 0.3s ease;
font-weight: bold;
}

.back-button:hover {
background: rgba(255, 255, 255, 0.3);
transform: translateY(-2px);
}

.header h1 {
font-size: 2.5em;
margin-bottom: 10px;
text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
}

.header p {
font-size: 1.2em;
opacity: 0.9;
font-style: italic;
}

.versuchsreihe-badge {
background: #FFD700;
color: #8B7CF6;
padding: 5px 15px;
border-radius: 15px;
font-size: 0.9em;
font-weight: bold;
margin-top: 10px;
display: inline-block;
}

.controls {
background: #fff8f8;
padding: 20px;
border-bottom: 3px solid #A855F7;
position: fixed;
top: 0;
left: 0;
right: 0;
z-index: 1000;
box-shadow: 0 2px 10px rgba(0,0,0,0.1);
min-height: 200px;
max-width: 900px;
margin: 0 auto;
}

.control-buttons {
display: flex;
gap: 15px;
justify-content: center;
flex-wrap: wrap;
margin-bottom: 15px;
}

.btn {
padding: 12px 24px;
border: none;
border-radius: 25px;
font-size: 1em;
font-weight: bold;
cursor: pointer;
transition: all 0.3s ease;
min-width: 120px;
outline: none;
transform: translateZ(0);
will-change: transform;
}

.btn:focus {
outline: 2px solid #FFD700;
outline-offset: 2px;
}

.btn-play {
background: linear-gradient(135deg, #28a745, #20c997);
color: white;
}

.btn-stop {
background: linear-gradient(135deg, #dc3545, #e83e8c);
color: white;
}

.btn-continue {
background: linear-gradient(135deg, #17a2b8, #6f42c1);
color: white;
}

.btn:hover {
transform: translateY(-2px);
box-shadow: 0 5px 15px rgba(0,0,0,0.2);
}

.btn:active {
transform: translateY(0);
}

.band-navigation, .language-navigation {
display: flex;
gap: 10px;
justify-content: center;
flex-wrap: wrap;
margin-bottom: 10px;
}

.btn-band, .btn-lang {
background: linear-gradient(135deg, #8B7CF6, #7C3AED);
color: #FFF8F0;
padding: 10px 20px;
border: 2px solid transparent;
border-radius: 25px;
cursor: pointer;
transition: all 0.3s ease;
font-weight: bold;
outline: none;
transform: translateZ(0);
will-change: transform;
}

.btn-band:focus, .btn-lang:focus {
outline: 2px solid #FFD700;
outline-offset: 2px;
}

.btn-band.active, .btn-lang.active {
border-color: #FFD700;
box-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
}

.btn-band:hover, .btn-lang:hover {
transform: translateY(-2px);
box-shadow: 0 5px 15px rgba(0,0,0,0.2);
}

.content {
padding: 230px 30px 30px 30px;
font-size: 1.1em;
line-height: 1.8;
}

.book-title {
color: #8B7CF6;
font-size: 2em;
margin-bottom: 10px;
text-align: center;
border-bottom: 2px solid #A855F7;
padding-bottom: 15px;
}

.chapter-title {
color: #7C3AED;
font-size: 1.5em;
margin: 30px 0 20px 0;
text-align: center;
font-style: italic;
}

.text-content {
text-align: justify;
margin-bottom: 30px;
}

.word {
cursor: pointer;
transition: all 0.2s ease;
padding: 1px 2px;
border-radius: 3px;
will-change: background-color;
}

.word:hover {
background-color: #E8E5FF;
}

.word-highlight {
background-color: #8B7CF6 !important;
color: white !important;
padding: 2px 4px;
border-radius: 4px;
box-shadow: 0 2px 5px rgba(139, 124, 246, 0.3);
}

.hidden {
display: none !important;
}

.status-message {
text-align: center;
padding: 8px;
margin: 5px 0 15px 0;
border-radius: 10px;
background: #e8f5e8;
color: #2d6c2d;
font-weight: bold;
transition: opacity 0.3s ease;
min-height: 32px;
line-height: 16px;
opacity: 1;
position: absolute;
top: 10px;
left: 20px;
right: 20px;
z-index: 101;
}

.status-message.hidden {
opacity: 0;
pointer-events: none;
}

.error-message {
background: #ffe8e8;
color: #d32f2f;
}

.controls-inner {
padding-top: 50px;
}

@media (max-width: 600px) {
.control-buttons, .band-navigation, .language-navigation {
gap: 10px;
}

.btn {
min-width: 100px;
font-size: 0.9em;
padding: 10px 16px;
}

.content {
padding: 200px 20px 20px 20px;
font-size: 1em;
}

.header h1 {
font-size: 2em;
}

.back-button-header {
position: relative;
top: 0;
left: 0;
margin-bottom: 15px;
}

.controls {
min-height: 180px;
padding: 15px;
}
}
</style>

</head>
<body>
<div class="container">
<div class="header">
<div class="back-button-header">
<a href="die-verborgenen-kammern.html" class="back-button">‚Üê Zur√ºck zur Serie</a>
</div>
<h1>Die verborgenen Kammern</h1>
<p>Lesen & Vorlesen-System - Entdecken Sie die Geheimnisse und Leidenschaften einer mysteri√∂sen Welt</p>
<div class="versuchsreihe-badge">VERSUCHSREIHE</div>
</div>
<div class="controls">
<div id="statusMessage" class="status-message hidden"></div>
<div class="controls-inner">
<div class="control-buttons">
<button class="btn btn-play" id="playBtn" type="button">üî¥ Vorlesen</button>
<button class="btn btn-continue" id="continueBtn" type="button">‚ñ∂Ô∏è Weiterlesen</button>
<button class="btn btn-stop" id="stopBtn" type="button">‚èπÔ∏è Stop</button>
</div>
<div class="language-navigation">
<button class="btn btn-lang active" id="deBtn" type="button">üá©üá™ Deutsch</button>
<button class="btn btn-lang" id="enBtn" type="button">üá¨üáß English</button>
</div>
<div class="band-navigation">
<button class="btn btn-band active" id="band1Btn" type="button">Band 1</button>
<button class="btn btn-band" id="band2Btn" type="button">Band 2</button>
<button class="btn btn-band" id="band3Btn" type="button">Band 3</button>
</div>
</div>
</div>
<div class="content">
<!-- DEUTSCHE VERSIONEN -->
<div id="de-content" class="language-content">
<!-- Band 1: Die Kunst der Hingabe (Deutsch) -->
<div id="de-band1" class="band-content">
<div class="book-title">Band 1: Die Kunst der Hingabe</div>
<div class="chapter-title">Kapitel 1: Das Verm√§chtnis</div>
<div class="text-content" id="de-textContent1">
<p>Die Nachricht vom Tod seiner Tante Marie erreichte Marcus an einem k√ºhlen Herbstmorgen. Die Sonne stand tief am Horizont und tauchte die toskanische Landschaft in ein goldenes Licht, das die Schatten der Vergangenheit kaum zu durchdringen vermochte. Elena, die an seiner Seite stand, sp√ºrte die Last der Nachricht, die schwer auf Marcus' Schultern ruhte. Marie, die Matriarchin der Familie Castellano, war nicht nur eine Verwandte gewesen, sondern auch die H√ºterin eines Erbes, das weit √ºber Kunst und Geschichte hinausging.</p>
<p>Die Reise zum Familienanwesen in der Toskana war von einer seltsamen Stille gepr√§gt. Elena beobachtete, wie Marcus' Gesichtsz√ºge mit jedem Kilometer h√§rter wurden, als ob er sich hinter einer Maske aus Kontrolle und Pflichtbewusstsein versteckte. Sie wusste, dass die Beerdigung mehr war als nur ein Abschied -- es war eine Konfrontation mit der Vergangenheit, die Marcus so lange zu verdr√§ngen versucht hatte.</p>
<p>Das Anwesen, ein imposantes Geb√§ude aus Stein und Geschichte, ragte vor ihnen auf wie ein stummer Zeuge der Zeit. In der gro√üen Halle, wo das Licht durch die hohen Fenster fiel, versammelte sich die Familie. Die Luft war schwer von unausgesprochenen Worten und alten Geheimnissen. Als das Testament verlesen wurde, sp√ºrte Elena, wie sich die Atmosph√§re ver√§nderte. Ein unbekannter Teil der Sammlung wurde erw√§hnt, ein "verlorener Schatz", der die Familie seit Generationen begleitete.</p>
<p>Marie hatte Marcus eine verschl√ºsselte Botschaft hinterlassen, die von einem Erbe sprach, das weit mehr war als nur materieller Besitz. Elena sah, wie Marcus' H√§nde leicht zitterten, als er das Dokument entgegennahm. Die Trauer und die Familiendynamik schienen ihn in alte Verhaltensmuster zur√ºckzuf√ºhren, und Elena fragte sich, ob die Last der Vergangenheit jemals von ihm abfallen w√ºrde.</p>
<p>In diesem Moment der Stille, als die Familie sich zur√ºckzog, blieb Elena an Marcus' Seite. Sie sp√ºrte die Verletzlichkeit hinter seiner Fassade und wusste, dass die Reise, die vor ihnen lag, nicht nur eine Suche nach einem verlorenen Schatz war, sondern auch eine Reise zu sich selbst.</p>
<p>Die Stille im Raum war fast greifbar, als Marcus das Dokument in seinen H√§nden betrachtete. Die verschl√ºsselte Botschaft seiner Tante Marie war nicht nur ein R√§tsel, sondern ein Schl√ºssel zu einer Welt, die er kaum kannte. Elena beobachtete ihn aufmerksam, ihre Augen suchten nach Anzeichen von Schw√§che oder Unsicherheit, doch Marcus blieb √§u√üerlich gefasst.</p>
<p>"Was denkst du, was sie uns damit sagen will?" fragte Elena leise, ihre Stimme kaum mehr als ein Fl√ºstern.</p>
<p>Marcus hob den Blick und sah sie an, seine Augen spiegelten eine Mischung aus Trauer und Entschlossenheit wider. "Marie war immer eine Meisterin der Geheimnisse. Sie wollte, dass wir die Wahrheit selbst herausfinden, dass wir uns mit der Vergangenheit auseinandersetzen."</p>
<p>Elena nickte und legte sanft ihre Hand auf seine Schulter. "Wir werden es gemeinsam herausfinden. Aber zuerst m√ºssen wir uns um die Beerdigung k√ºmmern."</p>
<p>Die Beerdigung war ein stilles, w√ºrdevolles Ereignis. Die Familie und enge Freunde versammelten sich, um Marie die letzte Ehre zu erweisen. Der Priester sprach Worte des Trostes, doch Marcus' Gedanken waren weit entfernt. Er dachte an die vielen Geschichten, die Marie ihm erz√§hlt hatte, an die Geheimnisse, die sie bewahrt hatte.</p>
</div>
</div>
<!-- Band 2: Die Tiefe der Begierde (Deutsch) -->
<div id="de-band2" class="band-content hidden">
<div class="book-title">Band 2: Die Tiefe der Begierde</div>
<div class="chapter-title">Kapitel 1: Das Angebot</div>
<div class="text-content" id="de-textContent2">
<p>Das Pigment br√∂ckelte unter Elenas behutsamen Bewegungen. Winzige Farbpartikel, einst leuchtend rot, nun zu einem matten Braun verblasst, rieselten auf das wei√üe Tuch, das sie unter dem Gem√§lde ausgebreitet hatte. Vor √ºber zweihundert Jahren hatte ein K√ºnstler diesen Farbton mit Quecksilbersulfid und organischen Bindemitteln anger√ºhrt, ohne zu ahnen, dass seine Sch√∂pfung eines Tages unter Elenas Mikroskop und Skalpell liegen w√ºrde.</p>
<p>"Jahrhunderte", murmelte sie, w√§hrend sie mit ge√ºbten Fingern die n√§chste Schicht freilegte. "Und trotzdem verr√§tst du mir deine Geheimnisse."</p>
<p>Elena Winters arbeitete im gro√üz√ºgigen Restaurierungsatelier des Friedrich-Museums in Berlin, umgeben von Spezialinstrumenten, Chemikalien und Referenzwerken. Die hohen Fenster lie√üen gleichm√§√üiges Nordlicht herein -- das ideale Licht f√ºr ihre pr√§zise Arbeit. Das sp√§tbarocke Gem√§lde, eine Darstellung der G√∂ttin Diana bei der Jagd, war seit drei Wochen ihr Projekt. Es war eine Herausforderung, doch genau das machte die Arbeit f√ºr sie so befriedigend.</p>
<p>Elenas Handy vibrierte auf dem Arbeitstisch. Sie ignorierte es. Der Bereich um Dianas rechtes Auge bedurfte ihrer vollen Konzentration -- zu viele √ºbermalte Schichten, zu viel Firnis, aufgetragen von wohlmeinenden, aber unkundigen Restauratoren vergangener Jahrhunderte. Ihre Aufgabe war es, durch all diese Schichten zum Original vorzudringen, ohne es zu besch√§digen.</p>
<p>Das Telefon vibrierte erneut. Elena seufzte, legte ihr Skalpell beiseite und streifte die Latexhandschuhe ab. Es war Direktor Schumann, wie die Anzeige verriet. Der Museumsdirektor rief sie selten direkt an; normalerweise kommunizierte er √ºber seine Assistentin oder E-Mail.</p>
<p>"Winters", meldete sie sich knapp.</p>
<p>"Elena, gut, dass ich Sie erreiche." Die Stimme des Direktors klang ungew√∂hnlich enthusiastisch. "K√∂nnten Sie in einer halben Stunde in meinem B√ºro sein? Ich habe jemanden hier, der Sie kennenlernen m√∂chte."</p>
<p>Sie blickte auf das halb restaurierte Gem√§lde. "Ich bin mitten in der Arbeit an der Diana, Herr Direktor."</p>
<p>"Das kann warten. Diese Gelegenheit nicht."</p>
<p>Elena unterdr√ºckte ein Seufzen. In ihrem Beruf hatte sie gelernt, dass Zeit relativ war. F√ºr sie bedeuteten Minuten manchmal den Unterschied zwischen erhaltener und zerst√∂rter Geschichte. F√ºr Administratoren wie Schumann waren Termine und Netzwerkgespr√§che wichtiger.</p>
<p>"In Ordnung. Drei√üig Minuten."</p>
<p>Sie legte auf und begann methodisch, ihren Arbeitsplatz zu sichern. Das Gem√§lde wurde sorgf√§ltig abgedeckt, die Instrumente gereinigt und die Chemikalien verschlossen. Elena zog ihren wei√üen Laborkittel aus und betrachtete ihr Spiegelbild in der Fensterscheibe. Ihr rotbraunes Haar war zu einem strengen Knoten gebunden, ihre Kleidung -- eine schlichte schwarze Hose und eine graue Seidenbluse -- war zweckm√§√üig und unauff√§llig.</p>
</div>
</div>
<!-- Band 3: Die Kunst der Hingabe - Fortsetzung (Deutsch) -->
<div id="de-band3" class="band-content hidden">
<div class="book-title">Band 3: Die Kunst der Hingabe - Fortsetzung</div>
<div class="chapter-title">Kapitel 1: Das Verm√§chtnis - Teil 2</div>
<div class="text-content" id="de-textContent3">
<p>Als Marcus und Elena das Haus betraten, sp√ºrten sie eine Ver√§nderung in der Atmosph√§re. Die Schwere der vergangenen Nacht war einer neuen Entschlossenheit gewichen. Die Sonne, die durch die hohen Fenster fiel, erhellte die R√§ume und schien die Schatten der Vergangenheit zu vertreiben. Es war, als ob das Haus selbst ihnen seine Unterst√ºtzung zusicherte, als ob es ihnen zufl√ºsterte, dass sie auf dem richtigen Weg waren.</p>
<p>"Wir sollten uns die Dokumente von Marie genauer ansehen", schlug Elena vor, w√§hrend sie die Treppe zu Maries altem Arbeitszimmer hinaufstiegen. "Vielleicht finden wir dort Hinweise, die uns weiterhelfen."</p>
<p>Marcus nickte zustimmend. "Ja, das ist ein guter Anfang. Marie hat immer gesagt, dass die Antworten oft direkt vor unserer Nase liegen, wir m√ºssen nur genau hinsehen."</p>
<p>Das Arbeitszimmer war ein Raum voller Geschichte und Erinnerungen. Die W√§nde waren ges√§umt von B√ºcherregalen, die bis zur Decke reichten und mit alten B√ºchern und Dokumenten gef√ºllt waren. Ein gro√üer Schreibtisch stand in der Mitte des Raumes, bedeckt mit Papieren und Notizen. Marcus und Elena setzten sich an den Schreibtisch und begannen, die Dokumente durchzusehen.</p>
<p>"Hier sind einige Briefe", sagte Elena, w√§hrend sie einen Stapel alter Briefe durchbl√§tterte. "Sie scheinen von verschiedenen Familienmitgliedern zu stammen. Vielleicht finden wir darin Hinweise auf den verlorenen Schatz."</p>
<p>Marcus nahm sich einen anderen Stapel vor und begann, die Dokumente zu lesen. "Diese hier sind alte Gesch√§ftsberichte und Inventarlisten. Sie k√∂nnten uns helfen, die Spur der Kunstwerke zu verfolgen."</p>
<p>Die Stunden vergingen, w√§hrend sie sich durch die Dokumente arbeiteten. Die Sonne wanderte √ºber den Himmel, und das Licht im Raum ver√§nderte sich, doch Marcus und Elena blieben konzentriert. Sie wussten, dass die Antworten, die sie suchten, irgendwo in diesen Papieren verborgen waren.</p>
<p>"Schau dir das an", sagte Elena pl√∂tzlich und hielt einen Brief hoch. "Dieser Brief ist von einem unbekannten Liebhaber an Marie. Er spricht von einem geheimen Treffen und einem Versteck."</p>
<p>Marcus nahm den Brief und las ihn aufmerksam durch. "Das k√∂nnte ein Hinweis sein. Vielleicht hat Marie den verlorenen Schatz mit Hilfe dieses Liebhabers versteckt."</p>
<p>Elena nickte aufgeregt. "Ja, das w√§re m√∂glich. Wir sollten nach weiteren Hinweisen suchen, die uns zu diesem Versteck f√ºhren k√∂nnten."</p>
<p>Sie setzten ihre Suche fort, durchforsteten jedes Dokument und jeden Brief, auf der Suche nach weiteren Hinweisen. Die Zeit schien stillzustehen, w√§hrend sie sich durch die Geschichte der Familie arbeiteten, jedes Detail aufnahmen und versuchten, die Puzzleteile zusammenzusetzen.</p>
</div>
</div>
</div>
<!-- ENGLISCHE VERSIONEN -->
<div id="en-content" class="language-content hidden">
<!-- Band 1: The Art of Devotion (English) -->
<div id="en-band1" class="band-content">
<div class="book-title">Band 1: The Art of Devotion</div>
<div class="chapter-title">Chapter 1: The Legacy</div>
<div class="text-content" id="en-textContent1">
<p>The news of his aunt Marie's death reached Marcus on a cool autumn morning. The sun stood low on the horizon, bathing the Tuscan landscape in golden light that could barely penetrate the shadows of the past. Elena, who stood by his side, felt the weight of the news that rested heavily on Marcus's shoulders. Marie, the matriarch of the Castellano family, had been not just a relative, but also the guardian of a legacy that extended far beyond art and history.</p>
<p>The journey to the family estate in Tuscany was marked by strange silence. Elena observed how Marcus's features hardened with each kilometer, as if he were hiding behind a mask of control and duty. She knew that the funeral was more than just a farewell -- it was a confrontation with the past that Marcus had tried so long to suppress.</p>
<p>The estate, an imposing building of stone and history, towered before them like a silent witness to time. In the great hall, where light fell through the tall windows, the family gathered. The air was heavy with unspoken words and old secrets. When the will was read, Elena felt the atmosphere change. An unknown part of the collection was mentioned, a "lost treasure" that had accompanied the family for generations.</p>
<p>Marie had left Marcus an encrypted message that spoke of a legacy far more than mere material possessions. Elena saw how Marcus's hands trembled slightly as he received the document. The grief and family dynamics seemed to return him to old behavioral patterns, and Elena wondered if the burden of the past would ever fall from him.</p>
<p>In this moment of silence, as the family withdrew, Elena remained by Marcus's side. She sensed the vulnerability behind his facade and knew that the journey ahead was not just a search for a lost treasure, but also a journey to himself.</p>
<p>The silence in the room was almost tangible as Marcus looked at the document in his hands. His aunt Marie's encrypted message was not just a puzzle, but a key to a world he barely knew. Elena watched him attentively, her eyes searching for signs of weakness or uncertainty, but Marcus remained outwardly composed.</p>
<p>"What do you think she's trying to tell us?" Elena asked quietly, her voice barely more than a whisper.</p>
<p>Marcus looked up and met her gaze, his eyes reflecting a mixture of grief and determination. "Marie was always a master of secrets. She wanted us to discover the truth ourselves, to confront the past."</p>
<p>Elena nodded and gently placed her hand on his shoulder. "We'll figure it out together. But first we need to take care of the funeral."</p>
<p>The funeral was a quiet, dignified event. Family and close friends gathered to pay their final respects to Marie. The priest spoke words of comfort, but Marcus's thoughts were far away. He thought of the many stories Marie had told him, of the secrets she had kept.</p>
</div>
</div>
<!-- Band 2: The Depths of Desire (English) -->
<div id="en-band2" class="band-content hidden">
<div class="book-title">Band 2: The Depths of Desire</div>
<div class="chapter-title">Chapter 1: The Offer</div>
<div class="text-content" id="en-textContent2">
<p>The pigment crumbled under Elena's careful movements. Tiny color particles, once brilliant red, now faded to a dull brown, trickled onto the white cloth she had spread beneath the painting. Over two hundred years ago, an artist had mixed this hue with mercury sulfide and organic binders, unaware that his creation would one day lie under Elena's microscope and scalpel.</p>
<p>"Centuries," she murmured, while exposing the next layer with practiced fingers. "And yet you reveal your secrets to me."</p>
<p>Elena Winters worked in the spacious restoration studio of the Friedrich Museum in Berlin, surrounded by specialized instruments, chemicals, and reference works. The tall windows let in even northern light -- the ideal light for her precise work. The late Baroque painting, a depiction of the goddess Diana hunting, had been her project for three weeks. It was a challenge, but that's exactly what made the work so satisfying for her.</p>
<p>Elena's phone vibrated on the work table. She ignored it. The area around Diana's right eye required her full concentration -- too many overpainted layers, too much varnish, applied by well-meaning but unknowledgeable restorers of past centuries. Her task was to penetrate through all these layers to the original without damaging it.</p>
<p>The phone vibrated again. Elena sighed, set aside her scalpel, and stripped off her latex gloves. It was Director Schumann, as the display revealed. The museum director rarely called her directly; normally he communicated through his assistant or email.</p>
<p>"Winters," she answered curtly.</p>
<p>"Elena, good that I reach you." The director's voice sounded unusually enthusiastic. "Could you be in my office in half an hour? I have someone here who wants to meet you."</p>
<p>She looked at the half-restored painting. "I'm in the middle of working on the Diana, Director."</p>
<p>"That can wait. This opportunity cannot."</p>
<p>Elena suppressed a sigh. In her profession, she had learned that time was relative. For her, minutes sometimes meant the difference between preserved and destroyed history. For administrators like Schumann, appointments and networking conversations were more important.</p>
<p>"Alright. Thirty minutes."</p>
<p>She hung up and began methodically securing her workspace. The painting was carefully covered, the instruments cleaned, and the chemicals sealed. Elena removed her white lab coat and looked at her reflection in the window pane. Her reddish-brown hair was bound in a strict knot, her clothing -- simple black pants and a gray silk blouse -- was practical and unobtrusive.</p>
</div>
</div>
<!-- Band 3: The Art of Devotion - Continuation (English) -->
<div id="en-band3" class="band-content hidden">
<div class="book-title">Band 3: The Art of Devotion - Continuation</div>
<div class="chapter-title">Chapter 1: The Legacy - Part 2</div>
<div class="text-content" id="en-textContent3">
<p>As Marcus and Elena entered the house, they sensed a change in the atmosphere. The heaviness of the past night had given way to new determination. The sun streaming through the tall windows illuminated the rooms and seemed to dispel the shadows of the past. It was as if the house itself assured them of its support, as if it whispered to them that they were on the right path.</p>
<p>"We should take a closer look at Marie's documents," Elena suggested as they climbed the stairs to Marie's old study. "Maybe we'll find clues there that can help us."</p>
<p>Marcus nodded in agreement. "Yes, that's a good start. Marie always said that the answers often lie right under our noses, we just have to look carefully."</p>
<p>The study was a room full of history and memories. The walls were lined with bookshelves that reached to the ceiling and were filled with old books and documents. A large desk stood in the center of the room, covered with papers and notes. Marcus and Elena sat down at the desk and began to examine the documents.</p>
<p>"Here are some letters," Elena said as she leafed through a stack of old letters. "They seem to be from various family members. Maybe we'll find clues about the lost treasure in them."</p>
<p>Marcus took another stack and began reading the documents. "These are old business reports and inventory lists. They could help us trace the path of the artworks."</p>
<p>Hours passed as they worked through the documents. The sun moved across the sky, and the light in the room changed, but Marcus and Elena remained focused. They knew that the answers they sought were hidden somewhere in these papers.</p>
<p>"Look at this," Elena suddenly said, holding up a letter. "This letter is from an unknown lover to Marie. It speaks of a secret meeting and a hiding place."</p>
<p>Marcus took the letter and read it carefully. "This could be a clue. Maybe Marie hid the lost treasure with the help of this lover."</p>
<p>Elena nodded excitedly. "Yes, that would be possible. We should look for more clues that could lead us to this hiding place."</p>
<p>They continued their search, combing through every document and letter, looking for more clues. Time seemed to stand still as they worked through the family's history, taking in every detail and trying to piece together the puzzle.</p>
</div>
</div>
</div>
</div>
</div>
<script>
// Global Variables
let currentSpeech = null;
let currentBand = 1;
let currentLanguage = 'de';
let currentWordIndex = 0;
let allBandWords = {};
let isReading = false;
let lastHighlightedWord = null;
let speechSupported = 'speechSynthesis' in window;

// Initialize when page loads
document.addEventListener('DOMContentLoaded', function() {
    console.log('Initializing...');
    showStatusMessage('System wird initialisiert...', false);
    
    // Check for speech synthesis support
    if (!speechSupported) {
        showStatusMessage('Warnung: Sprachsynthese wird in diesem Browser nicht unterst√ºtzt!', true);
    }
    
    initializeEventListeners();
    initializeAllBands();
    showBand(1);
    
    if (speechSupported) {
        showStatusMessage('System bereit! W√§hlen Sie einen Text aus und klicken Sie auf "Vorlesen".', false);
    }
    
    console.log('Initialization complete!');
    
    // Hide status message after 3 seconds
    setTimeout(() => {
        hideStatusMessage();
    }, 3000);
});

// Show status messages
function showStatusMessage(message, isError = false) {
    const statusDiv = document.getElementById('statusMessage');
    statusDiv.textContent = message;
    statusDiv.className = `status-message ${isError ? 'error-message' : ''}`;
    statusDiv.classList.remove('hidden');
}

function hideStatusMessage() {
    const statusDiv = document.getElementById('statusMessage');
    statusDiv.classList.add('hidden');
}

// Event Listeners - FIX: Prevent event bubbling and default behavior
function initializeEventListeners() {
    // Play/Control Buttons
    const buttons = [
        { id: 'playBtn', func: startReading },
        { id: 'continueBtn', func: continueReading },
        { id: 'stopBtn', func: stopReading }
    ];
    
    buttons.forEach(({ id, func }) => {
        const btn = document.getElementById(id);
        if (btn) {
            btn.addEventListener('click', (e) => {
                e.preventDefault();
                e.stopPropagation();
                e.target.blur();
                func();
                return false;
            });
            btn.addEventListener('keydown', (e) => {
                if (e.key === 'Enter' || e.key === ' ') {
                    e.preventDefault();
                    e.stopPropagation();
                    func();
                    return false;
                }
            });
            console.log(`Added listener to ${id}`);
        }
    });
    
    // Language Buttons
    const langButtons = [
        { id: 'deBtn', lang: 'de' },
        { id: 'enBtn', lang: 'en' }
    ];
    
    langButtons.forEach(({ id, lang }) => {
        const btn = document.getElementById(id);
        if (btn) {
            btn.addEventListener('click', (e) => {
                e.preventDefault();
                e.stopPropagation();
                e.target.blur();
                switchLanguage(lang);
                return false;
            });
            btn.addEventListener('keydown', (e) => {
                if (e.key === 'Enter' || e.key === ' ') {
                    e.preventDefault();
                    e.stopPropagation();
                    switchLanguage(lang);
                    return false;
                }
            });
            console.log(`Added language listener to ${id}`);
        }
    });
    
    // Band Buttons
    for (let i = 1; i <= 3; i++) {
        const btn = document.getElementById(`band${i}Btn`);
        if (btn) {
            btn.addEventListener('click', (e) => {
                e.preventDefault();
                e.stopPropagation();
                e.target.blur();
                showBand(i);
                return false;
            });
            btn.addEventListener('keydown', (e) => {
                if (e.key === 'Enter' || e.key === ' ') {
                    e.preventDefault();
                    e.stopPropagation();
                    showBand(i);
                    return false;
                }
            });
            console.log(`Added band listener to band${i}Btn`);
        }
    }
    
    console.log('Event listeners initialized');
}

// Initialize all bands with word splitting
function initializeAllBands() {
    ['de', 'en'].forEach(lang => {
        allBandWords[lang] = {};
        for (let bandNumber = 1; bandNumber <= 3; bandNumber++) {
            const bandContent = document.querySelector(`#${lang}-band${bandNumber}`);
            if (bandContent) {
                const textContents = bandContent.querySelectorAll('.text-content');
                let allWords = [];
                let wordCounter = 0;

                textContents.forEach(textContent => {
                    if (!textContent.querySelector('.word')) {
                        const paragraphs = textContent.querySelectorAll('p');

                        paragraphs.forEach((paragraph) => {
                            const paragraphText = paragraph.textContent;
                            const paragraphWords = paragraphText.split(/\s+/).filter(word => word.length > 0);

                            let paragraphHTML = '';
                            paragraphWords.forEach((word) => {
                                paragraphHTML += `<span class="word" data-word-index="${wordCounter}" onclick="event.preventDefault(); event.stopPropagation(); this.blur(); startFromWord(${wordCounter}); return false;">${word}</span> `;
                                allWords.push(word);
                                wordCounter++;
                            });

                            paragraph.innerHTML = paragraphHTML;
                        });
                    }
                });

                allBandWords[lang][bandNumber] = allWords;
                console.log(`Initialized ${lang}-band${bandNumber} with ${allWords.length} words`);
            }
        }
    });
}

// Switch Language
function switchLanguage(lang) {
    stopReading();
    showStatusMessage(`Wechsle zu ${lang === 'de' ? 'Deutsch' : 'English'}...`, false);

    // Hide all languages
    document.querySelectorAll('.language-content').forEach(content => {
        content.classList.add('hidden');
    });

    // Show selected language
    const targetContent = document.getElementById(lang + '-content');
    if (targetContent) {
        targetContent.classList.remove('hidden');
    }

    // Update language buttons
    document.querySelectorAll('.btn-lang').forEach(btn => {
        btn.classList.remove('active');
    });
    
    const targetBtn = document.getElementById(lang + 'Btn');
    if (targetBtn) {
        targetBtn.classList.add('active');
    }

    currentLanguage = lang;
    currentWordIndex = 0;
    clearHighlight();
    showBand(currentBand);
    
    setTimeout(() => hideStatusMessage(), 1000);
    console.log(`Switched to language: ${lang}`);
}

// Show Band
function showBand(bandNumber) {
    stopReading();
    showStatusMessage(`Lade Band ${bandNumber}...`, false);

    // Hide all bands in current language
    for (let i = 1; i <= 3; i++) {
        const bandElement = document.getElementById(`${currentLanguage}-band${i}`);
        if (bandElement) {
            bandElement.classList.add('hidden');
        }
    }

    // Update band buttons
    document.querySelectorAll('.btn-band').forEach((btn, index) => {
        btn.classList.remove('active');
        if (index === bandNumber - 1) {
            btn.classList.add('active');
        }
    });

    // Show selected band
    const targetBand = document.getElementById(`${currentLanguage}-band${bandNumber}`);
    if (targetBand) {
        targetBand.classList.remove('hidden');
    }

    currentBand = bandNumber;
    currentWordIndex = 0;
    clearHighlight();
    
    setTimeout(() => hideStatusMessage(), 1000);
    console.log(`Showing band: ${bandNumber}`);
}

// Reading Functions
function startReading() {
    if (!speechSupported) {
        showStatusMessage('Sprachsynthese wird in diesem Browser nicht unterst√ºtzt!', true);
        return;
    }
    
    currentWordIndex = 0;
    clearHighlight();
    continueReading();
    console.log('Started reading from beginning');
}

function continueReading() {
    if (!speechSupported) {
        showStatusMessage('Sprachsynthese wird in diesem Browser nicht unterst√ºtzt!', true);
        return;
    }

    if (currentSpeech) {
        speechSynthesis.cancel();
    }

    const currentWords = allBandWords[currentLanguage] && allBandWords[currentLanguage][currentBand];

    if (currentWords && currentWords.length > 0) {
        if (currentWordIndex >= currentWords.length) {
            showStatusMessage('Text vollst√§ndig gelesen!', false);
            setTimeout(() => hideStatusMessage(), 2000);
            return;
        }

        const remainingText = currentWords.slice(currentWordIndex).join(' ');
        showStatusMessage('Vorlesen wird gestartet...', false);

        currentSpeech = new SpeechSynthesisUtterance(remainingText);
        currentSpeech.rate = 1.0;
        currentSpeech.pitch = 1.0;
        currentSpeech.volume = 1.0;
        currentSpeech.lang = currentLanguage === 'de' ? 'de-DE' : 'en-US';

        let wordCount = currentWordIndex;

        currentSpeech.onstart = function() {
            isReading = true;
            showStatusMessage('Vorlesen l√§uft...', false);
            setTimeout(() => hideStatusMessage(), 2000);
        };

        currentSpeech.onboundary = function(event) {
            if (event.name === 'word' && wordCount < currentWords.length) {
                highlightCurrentWord(wordCount);
                wordCount++;
                currentWordIndex = wordCount;
            }
        };

        currentSpeech.onend = function() {
            isReading = false;
            showStatusMessage('Vorlesen beendet.', false);
            setTimeout(() => hideStatusMessage(), 2000);
            console.log('Reading finished');
        };

        currentSpeech.onerror = function(event) {
            isReading = false;
            showStatusMessage(`Fehler beim Vorlesen: ${event.error}`, true);
            console.error('Speech synthesis error:', event.error);
        };

        isReading = true;
        speechSynthesis.speak(currentSpeech);
        console.log(`Continue reading from word ${currentWordIndex}`);
    } else {
        showStatusMessage('Keine W√∂rter zum Vorlesen gefunden!', true);
        console.log('No words found for current band/language');
    }
}

function startFromWord(wordIndex) {
    if (!speechSupported) {
        showStatusMessage('Sprachsynthese wird in diesem Browser nicht unterst√ºtzt!', true);
        return;
    }
    
    currentWordIndex = wordIndex;
    clearHighlight();
    continueReading();
    console.log(`Started reading from word ${wordIndex}`);
}

// FIX: Improved highlight function with smoother scrolling
function highlightCurrentWord(wordIndex) {
    // Clear previous highlight
    if (lastHighlightedWord) {
        lastHighlightedWord.classList.remove('word-highlight');
    }

    // Highlight current word
    const wordSpan = document.querySelector(`#${currentLanguage}-band${currentBand} [data-word-index="${wordIndex}"]`);
    if (wordSpan) {
        wordSpan.classList.add('word-highlight');
        lastHighlightedWord = wordSpan;

        // FIX: Improved scroll behavior to prevent jumping
        const rect = wordSpan.getBoundingClientRect();
        const controlsHeight = document.querySelector('.controls').offsetHeight || 200;
        const viewportHeight = window.innerHeight;
        const scrollBuffer = 150;
        
        // Only scroll if word is not comfortably visible
        if (rect.top < controlsHeight + scrollBuffer || rect.bottom > viewportHeight - scrollBuffer) {
            // Calculate smooth scroll position
            const elementTop = wordSpan.offsetTop;
            const currentScroll = window.pageYOffset;
            const targetScroll = elementTop - controlsHeight - 100;
            
            // Only scroll if the difference is significant to prevent micro-movements
            if (Math.abs(targetScroll - currentScroll) > 50) {
                window.scrollTo({
                    top: Math.max(0, targetScroll),
                    behavior: 'smooth'
                });
            }
        }
    }
}

function clearHighlight() {
    document.querySelectorAll('.word-highlight').forEach(el => {
        el.classList.remove('word-highlight');
    });
    lastHighlightedWord = null;
}

function stopReading() {
    if (currentSpeech) {
        speechSynthesis.cancel();
        currentSpeech = null;
        isReading = false;
    }

    currentWordIndex = 0;
    clearHighlight();
    showStatusMessage('Vorlesen gestoppt.', false);
    setTimeout(() => hideStatusMessage(), 1500);
    console.log('Reading stopped');
}

// Make functions globally available
window.startFromWord = startFromWord;
</script>
</body>
</html>
