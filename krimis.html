<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mysterien der Heide - Vorlesen - Helmut Wegners Wortwelten</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Georgia', serif;
            line-height: 1.8;
            color: #2c1810;
            background: linear-gradient(135deg, #8B4513 0%, #A0522D 30%, #D2B48C  100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: #FFF8DC;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #8B4513, #A0522D);
            color: #FFF8DC;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
            font-style: italic;
        }

        .controls {
            background: #F5DEB3;
            padding: 20px;
            border-bottom: 3px solid #D2B48C;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .control-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
            margin-bottom: 15px;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 25px;
            font-size: 1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            min-width: 120px;
        }

        .btn-play {
            background: linear-gradient(135deg, #28a745, #20c997);
            color: white;
        }

        .btn-pause {
            background: linear-gradient(135deg, #ffc107, #fd7e14);
            color: white;
        }

        .btn-stop {
            background: linear-gradient(135deg, #dc3545, #e83e8c);
            color: white;
        }

        .btn-continue {
            background: linear-gradient(135deg, #17a2b8, #6f42c1);
            color: white;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .band-navigation {
            display: flex;
            gap: 10px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .btn-band {
            background: linear-gradient(135deg, #8B4513, #A0522D);
            color: #FFF8DC;
            padding: 10px 20px;
            border: 2px solid transparent;
        }

        .btn-band.active {
            border-color: #FFD700;
            box-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
        }

        .content {
            padding: 30px;
            font-size: 1.1em;
            line-height: 1.8;
        }

        .book-title {
            color: #8B4513;
            font-size: 2em;
            margin-bottom: 10px;
            text-align: center;
            border-bottom: 2px solid #D2B48C;
            padding-bottom: 15px;
        }

        .chapter-title {
            color: #A0522D;
            font-size: 1.5em;
            margin: 30px 0 20px 0;
            text-align: center;
            font-style: italic;
        }

        .text-content {
            text-align: justify;
            margin-bottom: 30px;
        }

        .word {
            cursor: pointer;
            transition: all 0.2s ease;
            padding: 1px 2px;
            border-radius: 3px;
        }

        .word:hover {
            background-color: #FFE4B5;
        }

        .word-highlight {
            background-color: #4169E1;
            color: white;
            padding: 2px 4px;
            border-radius: 4px;
            box-shadow: 0 2px 5px rgba(65, 105, 225, 0.3);
        }

        .back-link {
            text-align: center;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 2px solid #D2B48C;
        }

        .btn-back {
            background: linear-gradient(135deg, #6c757d, #495057);
            color: white;
            text-decoration: none;
            display: inline-block;
        }

        .hidden {
            display: none;
        }

        @media (max-width: 600px) {
            .control-buttons {
                gap: 10px;
            }
            
            .btn {
                min-width: 100px;
                font-size: 0.9em;
                padding: 10px 16px;
            }
            
            .content {
                padding: 20px;
                font-size: 1em;
            }
            
            .header h1 {
                font-size: 2em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Mysterien der Heide</h1>
            <p>Vorlese-System - Lassen Sie sich in die d√ºsteren Geheimnisse der L√ºneburger Heide entf√ºhren</p>
        </div>

        <div class="controls">
            <div class="control-buttons">
                <button class="btn btn-play" onclick="startReading()">üî¥ Vorlesen</button>
                <button class="btn btn-continue" onclick="continueReading()">‚ñ∂Ô∏è Weiterlesen</button>
                <button class="btn btn-pause" onclick="pauseReading()">‚è∏Ô∏è Pause</button>
                <button class="btn btn-stop" onclick="stopReading()">‚èπÔ∏è Stop</button>
            </div>
            <div class="band-navigation">
                <button class="btn btn-band active" onclick="showBand(1)">Band 1</button>
                <button class="btn btn-band" onclick="showBand(2)">Band 2</button>
                <button class="btn btn-band" onclick="showBand(3)">Band 3</button>
            </div>
        </div>

        <div class="content">
            <!-- Band 1: Der Geist der Heide -->
            <div id="band1" class="band-content">
                <div class="book-title">Band 1: Der Geist der Heide</div>
                <div class="chapter-title">Kapitel 1: Der Beginn</div>
                <div class="text-content" id="textContent1">
                    <p>Die Morgensonne tauchte die L√ºneburger Heide in ein goldenes Licht, als Elias Hoffmann seinen t√§glichen Spaziergang antrat. Die Luft war klar und k√ºhl, erf√ºllt vom Duft des Heidekrauts und dem fernen Zwitschern der V√∂gel. Nichts deutete darauf hin, dass dieser Tag sein Leben f√ºr immer ver√§ndern w√ºrde.</p>

                    <p>Der Pensionierte Geschichtslehrer liebte diese Stunden der Stille, wenn die Heide noch nicht von Touristen bev√∂lkert war. Seine Schritte f√ºhrten ihn wie jeden Morgen zum alten Wacholderbaum, der einsam auf einer kleinen Anh√∂he stand. Doch heute war etwas anders.</p>

                    <p>Am Fu√üe des Baumes lag ein Brief. Das Pergament wirkte alt, vergilbt und war mit einem roten Wachssiegel versehen. Elias b√ºckte sich und hob ihn vorsichtig auf. Sein Name stand in geschwungener Schrift darauf, geschrieben mit einer Tinte, die im Morgenlicht schimmerte.</p>

                    <p>Mit zitternden H√§nden brach er das Siegel und entfaltete das Pergament. Die Zeichen darauf waren ihm fremd und doch seltsam vertraut. Es war eine Sprache, die er nie gesehen hatte, und dennoch verstand er die Botschaft, als w√ºrde sie direkt in sein Bewusstsein flie√üen: "Der Geist der Heide erwacht. Die Zeit der Pr√ºfung ist gekommen. Folge den Zeichen, wenn du die Wahrheit suchst."</p>

                    <p>Ein kalter Schauer lief Elias √ºber den R√ºcken. Als Historiker hatte er sich jahrelang mit den Legenden der Region besch√§ftigt, aber dies hier war anders. Das war real. Pl√∂tzlich h√∂rte er ein seltsames Fl√ºstern im Wind, das seinen Namen zu rufen schien. Die Heide um ihn herum schien pl√∂tzlich lebendig zu werden, als w√ºrden unsichtbare Augen ihn beobachten.</p>
                </div>
            </div>

            <!-- Band 2: Das Moor des Vergessens -->
            <div id="band2" class="band-content hidden">
                <div class="book-title">Band 2: Das Moor des Vergessens</div>
                <div class="chapter-title">Kapitel 1: Der Fund im Moor</div>
                <div class="text-content" id="textContent2">
                    <p>Kommissarin Anna Hartmann starrte auf den grauenhaften Fund vor ihr. Das Moor hatte seine Geheimnisse preisgegeben - einen perfekt konservierten K√∂rper, der aussah, als w√§re er erst gestern gestorben. Doch die Kleidung und die ersten Untersuchungen deuteten auf ein Alter von mindestens drei√üig Jahren hin.</p>

                    <p>Der Anruf war um f√ºnf Uhr morgens gekommen. Ein Torfstecher hatte die Leiche entdeckt, als er seine Arbeit in den fr√ºhen Morgenstunden aufgenommen hatte. Jetzt, drei Stunden sp√§ter, war das abgelegene St√ºck Moor bei Eldermoor zum Schauplatz einer der mysteri√∂sesten Ermittlungen geworden, die Anna je erlebt hatte.</p>

                    <p>Das Opfer war ein junger Mann, vielleicht Ende zwanzig. Seine Haut hatte die charakteristische braune F√§rbung einer Moorleiche, aber seine Gesichtsz√ºge waren so gut erhalten, dass man den Ausdruck purer Angst in seinen Augen erkennen konnte. Was Anna jedoch am meisten verst√∂rte, waren die seltsamen Symbole, die in seine Stirn geritzt worden waren.</p>

                    <p>"Kommissarin," rief Kriminalassistent Weber von der anderen Seite des Fundorts. "Sie m√ºssen sich das hier ansehen." Anna watete vorsichtig durch das weiche Moorland zu ihm hin√ºber. Weber deutete auf eine Stelle etwa zehn Meter vom K√∂rper entfernt, wo sich im weichen Boden die Umrisse weiterer Gr√§ber abzeichneten.</p>

                    <p>"Es k√∂nnten noch mehr sein," fl√ºsterte Weber mit aschfahlem Gesicht. "Der Bodenradar zeigt Anomalien in einem Umkreis von hundert Metern." Anna nickte grimm und blickte hin√ºber zum Dorf Eldermoor, dessen H√§user in der Morgensonne friedlich wirkten. Doch sie hatte das Gef√ºhl, dass dieser Frieden tr√ºgerisch war. Das Moor h√ºtete seine Geheimnisse gut, aber heute w√ºrde sie beginnen, sie zu entschl√ºsseln.</p>
                </div>
            </div>

            <!-- Band 3: Die Schatten der D√∂rfer -->
            <div id="band3" class="band-content hidden">
                <div class="book-title">Band 3: Die Schatten der D√∂rfer</div>
                <div class="chapter-title">Kapitel 1: Die ersten Schatten</div>
                <div class="text-content" id="textContent3">
                    <p>Erik M√ºller betractete das beschmierte Denkmal mit einer Mischung aus √Ñrger und Sorge. Die roten Graffiti-Zeichen auf dem historischen Kriegerdenkmal mitten im Dorfzentrum wirkten wie eine Wunde in der idyllischen Landschaft. Als B√ºrgermeister von Nordheide hatte er schon viele Probleme l√∂sen m√ºssen, aber dieses hier f√ºhlte sich anders an.</p>

                    <p>Es war ein grauer Oktobertag, und der kalte Wind trieb die ersten Herbstbl√§tter √ºber den Dorfplatz. Die wenigen Passanten, die das Denkmal passierten, warfen verst√∂rte Blicke darauf und gingen dann hastig weiter. Erik kannte jeden Einwohner des 850-Seelen-Dorfes beim Namen, und er konnte sich nicht vorstellen, wer so etwas getan haben k√∂nnte.</p>

                    <p>"Das waren die Fremden," h√∂rte er eine bekannte Stimme hinter sich. Heinrich Krause, der √∂rtliche Gastwirt und selbsternannte Sprecher der alteingesessenen Familien, trat n√§her. Seine Augen blitzten vor Zorn. "Die Fl√ºchtlingsfamilie aus der Bergstra√üe. Seit die hier sind, ist nichts mehr, wie es war."</p>

                    <p>Erik seufzte innerlich. Die Familie Al-Rahman war vor sechs Monaten nach Nordheide gekommen - Vater Khalil, Mutter Amira und ihre drei Kinder. Sie waren freundlich, h√∂flich und bem√ºhten sich redlich, sich zu integrieren. Khalil arbeitete in der nahen Molkerei, die Kinder gingen zur √∂rtlichen Schule. Aber f√ºr einen Teil der Dorfbev√∂lkerung blieben sie die "Fremden".</p>

                    <p>"Heinrich," sagte Erik ruhig, "wir wissen noch gar nicht, wer das war. Es k√∂nnten genauso gut Jugendliche aus dem Nachbardorf gewesen sein. Oder durchreisende Vandalen." Aber schon w√§hrend er sprach, sah er die Zweifel in Heinrichs Augen. Das Gift des Misstrauens hatte bereits begonnen, sich in seinem friedlichen Dorf auszubreiten. Und Erik bef√ºrchtete, dass dies erst der Anfang war.</p>
                </div>
            </div>

            <div class="back-link">
                <a href="krimis.html" class="btn btn-back">‚Üê Zur√ºck zu Krimis & Thriller</a>
            </div>
        </div>
    </div>

    <script>
        let currentSpeech = null;
        let currentBand = 1;
        let currentWordIndex = 0;
        let allBandWords = {}; // Speichert W√∂rter f√ºr alle B√§nde
        let isReading = false;
        let lastHighlightedWord = null;

        // Initialisiere alle B√§nde beim Seitenstart
        function initializeAllBands() {
            for (let bandNumber = 1; bandNumber <= 3; bandNumber++) {
                const bandContent = document.querySelector(`#band${bandNumber} .text-content`);
                if (bandContent && !bandContent.querySelector('.word')) {
                    const paragraphs = bandContent.querySelectorAll('p');
                    let wordCounter = 0;
                    let bandWords = [];
                    
                    paragraphs.forEach((paragraph) => {
                        const paragraphText = paragraph.textContent;
                        const paragraphWords = paragraphText.split(/\s+/).filter(word => word.length > 0);
                        
                        let paragraphHTML = '';
                        paragraphWords.forEach((word) => {
                            paragraphHTML += `<span class="word" data-word-index="${wordCounter}" onclick="startFromWord(${wordCounter})">${word}</span> `;
                            bandWords.push(word);
                            wordCounter++;
                        });
                        
                        paragraph.innerHTML = paragraphHTML;
                    });
                    
                    // Speichere W√∂rter f√ºr diesen Band
                    allBandWords[bandNumber] = bandWords;
                }
            }
        }

        function showBand(bandNumber) {
            // Stoppe aktuelles Vorlesen
            pauseReading();
            
            // Verstecke alle B√§nde
            for (let i = 1; i <= 3; i++) {
                document.getElementById(`band${i}`).classList.add('hidden');
                document.querySelectorAll('.btn-band')[i-1].classList.remove('active');
            }
            
            // Zeige ausgew√§hlten Band
            document.getElementById(`band${bandNumber}`).classList.remove('hidden');
            document.querySelectorAll('.btn-band')[bandNumber-1].classList.add('active');
            
            currentBand = bandNumber;
            currentWordIndex = 0;
            clearHighlight();
        }

        function startReading() {
            currentWordIndex = 0;
            clearHighlight();
            continueReading();
        }

        function continueReading() {
            if (currentSpeech) {
                currentSpeech.cancel();
            }
            
            const currentWords = allBandWords[currentBand];
            if (currentWords && currentWords.length > 0) {
                // Text ab der aktuellen Position
                const remainingText = currentWords.slice(currentWordIndex).join(' ');
                
                currentSpeech = new SpeechSynthesisUtterance(remainingText);
                currentSpeech.rate = 1.0;
                currentSpeech.lang = 'de-DE';
                
                let wordCount = currentWordIndex;
                
                currentSpeech.onboundary = function(event) {
                    if (event.name === 'word') {
                        highlightCurrentWord(wordCount);
                        wordCount++;
                        currentWordIndex = wordCount;
                    }
                };
                
                currentSpeech.onend = function() {
                    isReading = false;
                };
                
                isReading = true;
                speechSynthesis.speak(currentSpeech);
            }
        }

        function startFromWord(wordIndex) {
            currentWordIndex = wordIndex;
            clearHighlight();
            continueReading();
        }

        function highlightCurrentWord(wordIndex) {
            // Entferne vorherige Highlights
            if (lastHighlightedWord) {
                lastHighlightedWord.classList.remove('word-highlight');
            }
            
            // Highlights das entsprechende Wort im aktuellen Band
            const wordSpan = document.querySelector(`#band${currentBand} [data-word-index="${wordIndex}"]`);
            if (wordSpan) {
                wordSpan.classList.add('word-highlight');
                lastHighlightedWord = wordSpan;
                
                // Scroll to current word
                wordSpan.scrollIntoView({ behavior: 'smooth', block: 'center' });
            }
        }

        function clearHighlight() {
            document.querySelectorAll('.word-highlight').forEach(el => {
                el.classList.remove('word-highlight');
            });
            lastHighlightedWord = null;
        }

        function pauseReading() {
            if (currentSpeech) {
                speechSynthesis.cancel();
                currentSpeech = null;
                isReading = false;
                // BEHALTE die blaue Markierung!
            }
        }

        function stopReading() {
            if (currentSpeech) {
                speechSynthesis.cancel();
                currentSpeech = null;
                isReading = false;
            }
            // Zur√ºck zum Anfang + alle Markierungen l√∂schen
            currentWordIndex = 0;
            clearHighlight();
        }

        // Initialisierung beim Seitenstart
        document.addEventListener('DOMContentLoaded', function() {
            initializeAllBands(); // Initialisiere ALLE drei B√§nde
            showBand(1); // Zeige Band 1
        });
    </script>
</body>
</html>
