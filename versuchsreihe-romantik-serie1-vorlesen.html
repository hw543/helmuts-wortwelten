// ... bestehender Code ...

function highlightCurrentWord(wordIndex) {
    // Clear previous highlight
    if (lastHighlightedWord) {
        lastHighlightedWord.classList.remove('word-highlight');
    }

    // Highlight current word
    const wordSpan = document.querySelector(`#${currentLanguage}-band${currentBand} [data-word-index="${wordIndex}"]`);
    if (wordSpan) {
        wordSpan.classList.add('word-highlight');
        lastHighlightedWord = wordSpan;

        // Calculate scroll position smoothly
        const rect = wordSpan.getBoundingClientRect();
        const controlsHeight = document.querySelector('.controls').offsetHeight;
        const viewportHeight = window.innerHeight - 100; // Space for header and content
        const scrollTop = Math.max(0, rect.top + 50); // Offset by 50px
        
        if (scrollTop < controlsHeight) {
            wordSpan.style.scrollY = 'auto';
            document.body.style.scrollY = 'auto';
        } else if (scrollTop > viewportHeight) {
            break;
        }
        
        setTimeout(() => {
            wordSpan.scrollTo({
                top: scrollTop,
                behavior: 'smooth'
            });
            document.body.scrollTo({
                top: scrollTop,
                behavior: 'smooth'
            });
        }, 50);
    }
}

// ... bestehender Code ...
